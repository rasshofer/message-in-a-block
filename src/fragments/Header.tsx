import { formatEther } from 'ethers/lib/utils';
import { FC } from 'react';
import { Link } from 'react-router-dom';
import { useUser } from '../utils/context';

import './Header.scss';

export const Header: FC = () => {
  const user = useUser();

  return (
    <div className="header">
      <Link to="/" className="header__logo">
        <svg viewBox="0 0 300 100" className="header__icon">
          <g fill="currentColor" fillRule="nonzero">
            <path d="m79.625 38.966.207.077 19.173 9.264c.61.312.939.91.986 1.53l.006.155v9.264l-4.298.002v-5.896l-15.206 7.242v22.4l15.371-7.241H95.7V69.53h4.132v7.748c0 .783-.286 1.274-.855 1.61l-.137.075-19.173 9.095a3.148 3.148 0 0 1-2.272.077l-.207-.077-19.173-9.095c-.61-.311-.939-.91-.986-1.53l-.005-.155v-7.748h4.133v6.232l15.37 7.242V60.603L61.322 53.36v5.895h-4.133v-9.264c0-.782.286-1.274.855-1.61l.137-.075 19.173-9.264a3.148 3.148 0 0 1 2.272-.077Zm-57.188 0 .206.078 19.174 9.264c.61.312.938.91.985 1.53l.006.155v9.265h-4.132v-5.896L23.47 60.604l.001 22.4 15.37-7.241V69.53l3.967-.001v7.748c0 .783-.285 1.274-.855 1.61l-.136.075-19.174 9.095a3.148 3.148 0 0 1-2.272.077l-.206-.077L.992 78.963c-.61-.311-.94-.91-.986-1.53L0 77.279V49.992c0-.782.285-1.274.855-1.61l.137-.075 19.173-9.263a3.148 3.148 0 0 1 2.272-.077ZM4.132 53.362v22.402l15.206 7.411V60.603L4.132 53.36Zm60.659 9.096c.991 0 1.983.84 1.983 2.02 0 .965-.752 1.93-1.827 2.015l-.156.006H35.04a2.028 2.028 0 0 1-1.983-2.02c0-1.126.903-1.945 1.848-2.016l.135-.005h29.75Zm57.023 0c.991 0 1.983.84 1.983 2.02 0 .965-.753 1.93-1.828 2.015l-.155.006H92.063a2.028 2.028 0 0 1-1.983-2.02c0-1.126.903-1.945 1.847-2.016l.136-.005h29.75ZM21.32 43.254 6.94 50.16l13.885 6.57.66.336.497-.337L35.7 50.16l-14.38-6.906Zm57.189 0L64.13 50.16l13.719 6.57.66.336.496-.337L92.89 50.16l-14.38-6.906ZM220.375 38.966l-.207.077-19.173 9.264c-.61.312-.939.91-.986 1.53l-.006.155v9.264l4.298.002v-5.896l15.206 7.242v22.4l-15.371-7.241h.165V69.53h-4.132v7.748c0 .783.286 1.274.855 1.61l.137.075 19.173 9.095c.757.31 1.514.335 2.272.077l.207-.077 19.173-9.095c.61-.311.939-.91.986-1.53l.005-.155v-7.748h-4.133v6.232l-15.37 7.242V60.603l15.205-7.242v5.895h4.133v-9.264c0-.782-.286-1.274-.855-1.61l-.137-.075-19.173-9.264a3.148 3.148 0 0 0-2.272-.077Zm57.188 0-.206.078-19.174 9.264c-.61.312-.938.91-.985 1.53l-.006.155v9.265h4.132v-5.896l15.206 7.242-.001 22.4-15.37-7.241V69.53l-3.967-.001v7.748c0 .783.285 1.274.855 1.61l.136.075 19.174 9.095c.756.31 1.514.335 2.272.077l.206-.077 19.173-9.095c.61-.311.94-.91.986-1.53l.006-.155V49.992c0-.782-.285-1.274-.855-1.61l-.137-.075-19.173-9.263a3.148 3.148 0 0 0-2.272-.077Zm18.305 14.395v22.402l-15.206 7.411V60.603l15.206-7.242Zm-60.659 9.096c-.991 0-1.983.84-1.983 2.02 0 .965.752 1.93 1.827 2.015l.156.006h29.751c.992 0 1.983-.84 1.983-2.02 0-1.126-.903-1.945-1.848-2.016l-.135-.005h-29.75Zm-57.023 0c-.991 0-1.983.84-1.983 2.02 0 .965.753 1.93 1.828 2.015l.155.006h29.751c.992 0 1.983-.84 1.983-2.02 0-1.126-.903-1.945-1.847-2.016l-.136-.005h-29.75ZM278.68 43.254l14.38 6.906-13.885 6.57-.66.336-.497-.337L264.3 50.16l14.38-6.906Zm-57.189 0 14.38 6.906-13.719 6.57-.66.336-.496-.337-13.884-6.569 14.38-6.906ZM190.074 69.481l.001 18.701a11.961 11.961 0 0 1-3.398 8.352 11.487 11.487 0 0 1-8.184 3.468h-56.525a11.488 11.488 0 0 1-8.184-3.468 11.96 11.96 0 0 1-3.399-8.352v-18.7h3.92v18.702c0 1.969.73 3.863 2.034 5.305l.21.224a7.588 7.588 0 0 0 5.42 2.29h56.524a7.588 7.588 0 0 0 5.419-2.29 7.905 7.905 0 0 0 2.244-5.53V69.482h3.918Zm-51.439 4.831a1.894 1.894 0 0 1 2.756 0c.76.794.76 2.079 0 2.872l-9.548 9.948c-.365.383-.86.598-1.377.598a1.903 1.903 0 0 1-1.379-.598 2.083 2.083 0 0 1 0-2.85v-.002Zm19.835 0a1.894 1.894 0 0 1 2.756 0l9.547 9.97a2.083 2.083 0 0 1 0 2.85c-.364.383-.86.598-1.378.598a1.903 1.903 0 0 1-1.377-.598l-9.548-9.948a2.092 2.092 0 0 1 0-2.872ZM171.672.002a8.79 8.79 0 0 1 6.258 2.654 9.154 9.154 0 0 1 2.6 6.386v23.18l4.39 2.14a9.24 9.24 0 0 1 3.757 3.447 9.51 9.51 0 0 1 1.398 4.953v16.493h-3.92l.001-8.873a9.78 9.78 0 0 1-.916.587l-.319.173-29.79 14.62a11.147 11.147 0 0 1-4.9 1.16c-1.7.002-3.376-.395-4.9-1.16l-29.791-14.62a9.779 9.779 0 0 1-1.235-.76v8.873h-3.92V42.762a9.514 9.514 0 0 1 1.222-4.653l.177-.3a9.242 9.242 0 0 1 3.756-3.447l4.39-2.14V9.042a9.153 9.153 0 0 1 2.601-6.386 8.791 8.791 0 0 1 6.258-2.654Zm0 4h-42.884c-1.31 0-2.565.531-3.492 1.476a5.093 5.093 0 0 0-1.446 3.564v41.74l23.165 11.38c2.03 1 4.398 1 6.43 0l23.164-11.38V9.042c0-1.336-.52-2.618-1.446-3.564a4.891 4.891 0 0 0-3.492-1.476Zm8.858 32.7v12.2l2.686-1.319a5.282 5.282 0 0 0 2.585-2.85 5.42 5.42 0 0 0 0-3.882 5.28 5.28 0 0 0-2.585-2.848l-2.686-1.3Zm-60.6 0-2.686 1.3a5.28 5.28 0 0 0-2.585 2.849 5.42 5.42 0 0 0 0 3.883 5.282 5.282 0 0 0 2.585 2.849l2.686 1.32v-12.2Zm44.924 6.672c.992 0 1.983.841 1.983 2.02 0 1.011-.825 2.022-1.983 2.022h-29.75a2.028 2.028 0 0 1-1.984-2.021c0-1.18.992-2.022 1.984-2.021Zm0-7.576c.992 0 1.983.841 1.983 2.02 0 1.011-.825 2.022-1.983 2.022h-29.75a2.028 2.028 0 0 1-1.984-2.021c0-1.18.992-2.022 1.984-2.02Zm0-7.576c.992 0 1.983.842 1.983 2.021 0 1.01-.825 2.021-1.983 2.021h-29.75a2.028 2.028 0 0 1-1.984-2.02c0-1.18.992-2.023 1.984-2.022Zm0-7.575c.992 0 1.983.84 1.983 2.02 0 1.01-.825 2.021-1.983 2.021h-29.75a2.028 2.028 0 0 1-1.984-2.02c0-1.18.992-2.023 1.984-2.021Zm.3-7.576c.992 0 1.983.841 1.983 2.02 0 1.011-.825 2.022-1.983 2.022h-29.75a2.028 2.028 0 0 1-1.984-2.021c0-1.18.992-2.022 1.984-2.021Z" />
          </g>
        </svg>
        <div className="header__title">Message in a Block</div>
      </Link>
      {user ? (
        <div className="header__user">
          <div className="header__about">
            <div className="header__account">
              {user.account?.alias ?? user.account?.address}
            </div>
            {user.balance ? (
              <div className="header__balance">
                ({formatEther(user.balance)} ETH)
              </div>
            ) : null}
          </div>
        </div>
      ) : null}
    </div>
  );
};
